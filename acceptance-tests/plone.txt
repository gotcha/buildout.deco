*** Settings ***
Library     SeleniumLibrary  run_on_failure=Capture Page Screenshot

*** Variables ***

${PLONE_URL} =  http://localhost:${PORT}/Plone/ 

*** Keywords ***

Start browser and wake plone up
    Open browser   ${PLONE_URL}
    Set Selenium timeout  30
    Log in  admin  admin
    Log out
    Set Selenium timeout  5

Goto homepage
    Go to   ${PLONE_URL}
    Page should contain  Plone site

Menu should contain
    [Arguments]  ${text}
    Frame should contain  plone-cmsui-menu  ${text}

Log out
    Go to  ${PLONE_URL}/logout
    Page should contain  logged out

Log in
    [Arguments]  ${userid}  ${password}
    Go to  ${PLONE_URL}/login_form
    Page should contain element  __ac_name
    Input text  __ac_name  ${userid}
    Input text  __ac_password  ${password}
    Click Button  Log in
    Go to  ${PLONE_URL}
    Menu should contain  Logged in as ${userid}
